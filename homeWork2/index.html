<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <script src="js/mui.min.js"></script>
    <link href="css/mui.min.css" rel="stylesheet"/>
    <script type="text/javascript" charset="utf-8">
      	mui.init();
    </script>
</head>
<body>
	<div>
		<p>手机号</p>
		<input type="text" name="phoneNum" id="phone" value="18408234005" />
		<input type="button" name="send" id="send" value="发送" />
		<p>查询结果</p>
		<input type="text" name="iphone" id="iphone" value="电话号码" />
		<input type="text" name="prefix" id="prefix" value="前缀" />
		<input type="text" name="supplier" id="supplier" value="运营商" />
		<input type="text" name="province" id="province" value="省" />
		<input type="text" name="city" id="city" value="城市" />
		<input type="text" name="suit" id="suit" value="类型" />
	</div>
	<script>
		var phoneN = document.getElementById("phone")
		var btn = document.getElementById("send")
		
		var iphone = document.getElementById("iphone")
		var prefix = document.getElementById("prefix")
		var supplier = document.getElementById("supplier")
		var province = document.getElementById("province")
		var city = document.getElementById("city")
		var suit = document.getElementById("suit")
		
		//tap 比 click  省时  true 可以添加重复的
		btn.addEventListener("tap",function(){
//			mui.setRequestHeader('apikey','d2998bf0ee42c53f954fd0c9d2387b21')
			mui.ajax('http://apis.baidu.com/apistore/mobilenumber/mobilenumber',{
	data:{
		phone:phoneN.value,
	},
	headers:{
		apikey:'d2998bf0ee42c53f954fd0c9d2387b21',
	},
	dataType:'json',//服务器返回json格式数据
	type:'get',//HTTP请求类型
	timeout:10000,//超时时间设置为10秒；
	success:function(data){
		//服务器返回响应，根据响应结果，分析是否登录成功；
//		alert(data.retData.phone)
		iphone.value = data.retData.phone
		prefix.value = data.retData.prefix
		supplier.value = data.retData.supplier
		province.value = data.retData.province
		city.value = data.retData.city
		suit.value = data.retData.suit
	},
	error:function(xhr,type,errorThrown){
		//异常处理；
		console.log(type);
		alert("错误描述")
	}
});
		},false)
	</script>
</body>
</html>